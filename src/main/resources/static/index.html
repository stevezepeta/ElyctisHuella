<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8"/>
    <title>Soporte – Redirigiendo…</title>
    <!-- Fallback si JS estuviera deshabilitado (sin query params) -->
    <meta http-equiv="refresh" content="5; url=support/ui">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <style>
      :root { color-scheme: light dark; }
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, sans-serif; padding: 24px; line-height: 1.45; }
      .muted { color: #666; }
      code { background: #f2f2f2; padding: 2px 6px; border-radius: 4px; }
      @media (prefers-color-scheme: dark) {
        .muted { color: #9ca3af; }
        code { background: #1f2937; color: #e5e7eb; }
      }
    </style>
  </head>
  <body>
    <h1>Redirigiendo al Centro de Soporte…</h1>
    <p class="muted">
      Si no ocurre nada en unos segundos, haz clic aquí:
      <a id="fallback" href="support/ui">support/ui</a>
    </p>

    <noscript>
      <p><strong>Nota:</strong> Esta página usa JavaScript para redirigir preservando parámetros.
        Si ves este mensaje, abre manualmente <code>support/ui</code> y agrega tus parámetros.</p>
    </noscript>

    <script>
      (function () {
        // Preserva la query string y el hash (si existe), p. ej. ?code=...&session=...#anchor
        var qs   = window.location.search || "";
        var hash = window.location.hash   || "";
        var target = "support/ui" + qs + hash;   // relativo → respeta context path si existe

        // Actualiza el enlace de fallback con la misma query/hash
        var a = document.getElementById("fallback");
        if (a) a.setAttribute("href", target);

        // Redirección inmediata (remplaza la entrada del historial)
        window.location.replace(target);
      })();
    </script>
  </body>
</html>
